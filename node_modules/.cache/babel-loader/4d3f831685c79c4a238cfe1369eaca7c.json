{"ast":null,"code":"import _slicedToArray from\"/home/codeninja/projects/React-app-with-fireabase/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{db}from\"./firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddUser(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),Email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),Cellnumber=_useState6[0],setCellnumber=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),age=_useState8[0],setage=_useState8[1];var HandleSubmit=function HandleSubmit(e){db.collection(\"users\").where(\"Email\",\"==\",Email).get().then(function(querySnapshot){querySnapshot.forEach(function(doc){// doc.data() is never undefined for query doc snapshots\nif(doc!==null){console.log(\"the record existed\");}else{db.collection(\"users\").add({name:name,Email:Email,Cellnumber:Cellnumber,age:age}).then(function(){alert(\"User has been added successfully\");window.location.reload(false);}).catch(function(err){alert(err);});setName();setEmail();setCellnumber();setage();}// console.log(doc.id, \" => \", doc.data());\n// console.log(\"the user already exists\")\n});}).catch(function(error){console.log(\"Error getting documents: \",error);});// e.preventDefault();\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center text-primary\",children:\"Add User\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:HandleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",required:true,placeholder:\"Enter your name\",value:name,onChange:function onChange(e){var result=e.target.value.replace(/[^a-z ]/gi,\"\");setName(result);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"exampleFormControlInput1\",placeholder:\"name@example.com\",value:Email,onChange:function onChange(e){setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Cell Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"exampleFormControlInput1\",placeholder:\"Enter your Number \",value:Cellnumber,onChange:function onChange(e){setCellnumber(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"exampleFormControlInput1\",placeholder:\"Enter your Age \",min:\"18\",max:\"60\",value:age,onChange:function onChange(e){setage(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-block btn-primary\",children:\"Submit\"})})]})]});}export default AddUser;","map":{"version":3,"sources":["/home/codeninja/projects/React-app-with-fireabase/src/Components/AddUser.js"],"names":["React","useState","db","AddUser","name","setName","Email","setEmail","Cellnumber","setCellnumber","age","setage","HandleSubmit","e","collection","where","get","then","querySnapshot","forEach","doc","console","log","add","alert","window","location","reload","catch","err","error","result","target","value","replace"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { db } from \"./firebase\";\nfunction AddUser() {\n  const [name, setName] = useState(\"\");\n  const [Email, setEmail] = useState(\"\");\n  const [Cellnumber, setCellnumber] = useState(\"\");\n  const [age, setage] = useState(\"\");\n\n  const HandleSubmit = (e) => {\n    db.collection(\"users\")\n      .where(\"Email\", \"==\", Email)\n      .get()\n      .then(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n       \n          // doc.data() is never undefined for query doc snapshots\n          if(doc !== null){\n            console.log(\"the record existed\");\n          }\n          else{\n            db.collection(\"users\")\n              .add({\n                name: name,\n                Email: Email,\n                Cellnumber: Cellnumber,\n                age: age,\n              })\n              .then(() => {\n                alert(\"User has been added successfully\");\n                window.location.reload(false);\n              })\n              .catch((err) => {\n                alert(err);\n              });\n            setName();\n            setEmail();\n            setCellnumber();\n            setage();\n          }\n          // console.log(doc.id, \" => \", doc.data());\n          // console.log(\"the user already exists\")\n        });\n      })\n      .catch(function (error) {\n        console.log(\"Error getting documents: \", error);\n      });\n\n    // e.preventDefault();\n    \n  };\n  return (\n    <div className='container my-3'>\n      <h3 className='text-center text-primary'>Add User</h3>\n      <form onSubmit={HandleSubmit}>\n        <div className='mb-3'>\n          <label htmlFor='title' className='form-label'>\n            Name\n          </label>\n          <input\n            type='text'\n            className='form-control'\n            required\n            placeholder='Enter your name'\n            value={name}\n            onChange={(e) => {\n              const result = e.target.value.replace(/[^a-z ]/gi, \"\");\n              setName(result);\n            }}\n          />\n        </div>\n        <div className='mb-3'>\n          <label htmlFor='description' className='form-label'>\n            Email\n          </label>\n          <input\n            type='email'\n            className='form-control'\n            id='exampleFormControlInput1'\n            placeholder='name@example.com'\n            value={Email}\n            onChange={(e) => {\n              setEmail(e.target.value);\n            }}\n          />\n        </div>\n        <div className='mb-3'>\n          <label htmlFor='description' className='form-label'>\n            Cell Number\n          </label>\n          <input\n            type='text'\n            className='form-control'\n            id='exampleFormControlInput1'\n            placeholder='Enter your Number '\n            value={Cellnumber}\n            onChange={(e) => {\n              setCellnumber(e.target.value);\n            }}\n            required\n          />\n        </div>\n        <div className='mb-3'>\n          <label htmlFor='description' className='form-label'>\n            Age\n          </label>\n          <input\n            type='number'\n            className='form-control'\n            id='exampleFormControlInput1'\n            placeholder='Enter your Age '\n            min='18'\n            max='60'\n            value={age}\n            onChange={(e) => {\n              setage(e.target.value);\n            }}\n            required\n          />\n        </div>\n\n        <div className='d-grid gap-2'>\n          <button type='submit' className='btn btn-block btn-primary'>\n            Submit\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default AddUser;\n"]},"metadata":{},"sourceType":"module"}